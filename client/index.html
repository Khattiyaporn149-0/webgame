<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Heist</title>
  <link rel="stylesheet" href="/client/styles.css" />
</head>

<body>
  <script src="/client/common-settings.js" defer></script>
  <!-- BACKGROUND -->
  <div class="bg">
    <div class="bg-video-overlay"></div>
    <canvas id="bg-canvas"></canvas>
  </div>

  <!-- üîù TOP BAR -->
  <header class="topbar">
    <div class="login-tag">
      <span class="tag-icon">ü™™</span>
      LOGGED IN AS <b id="playerNameTop">Guest</b>
      <span class="clan">[The Heist]</span>
      <span class="ver" id="ver">V.test1.0.0</span>
    </div>

    <div class="top-icons">
      <button class="icon-btn" id="btnProfile" title="Profile" aria-label="Profile">
        <i class="fa-solid fa-user"></i>
      </button>
      <button class="icon-btn" id="btnWorld" title="World" aria-label="World">
        <i class="fa-solid fa-globe"></i>
      </button>
      <button class="icon-btn" id="btnSettingsTop" title="Settings" aria-label="Settings">
        <i class="fa-solid fa-gear"></i>
      </button>
    </div>
  </header>

  <!-- üåÜ MAIN WRAP -->
  <div class="wrap">
    <!-- LEFT RAIL -->
    <aside class="left-rail">
      <button class="rail-btn gift">
        <span class="emoji">üéÅ</span>
        <span class="label">Gifts</span>
        <span class="badge">3</span>
      </button>
      <button class="rail-btn missions">
        <span class="emoji">üóÇÔ∏è</span>
        <span class="label">Missions</span>
        <span class="badge">New</span>
      </button>
      <button class="rail-btn calendar">
        <span class="emoji">üóìÔ∏è</span>
        <span class="label">7 Day(s)</span>
      </button>
      <button class="rail-btn timer">
        <span class="emoji">‚è∞</span>
        <span class="label"><span id="countdown">23:59:59</span></span>
        <span class="badge">Bonus √ó3</span>
      </button>
    </aside>

    <!-- CENTER STACK -->
    <main class="center-stack">
      <div class="title-stack">
        <div class="game-title">
          <span class="word word-2">THE</span>
          <span class="word word-3">HEIST</span>
        </div>
      </div>

      <div class="primary-buttons">
        <button class="cta Join" id="btnJoin"><i class="fa-solid fa-rocket"></i> JOIN GAME</button>
        <button class="cta Create" id="btnCreate"><i class="fa-solid fa-hammer"></i> CREATE GAME</button>
      </div>

      <div class="secondary-buttons">
        <button class="sec-btn" id="btnCollection">COLLECTION</button>
        <button class="sec-btn" id="btnClaw">CLAW MACHINE</button>
      </div>
    </main>

    <!-- RIGHT RAIL -->
    <aside class="right-rail">
      <div class="right-group">
        <button class="right-btn" id="btnTutorial">‚ùì TUTORIAL</button>
        <button class="right-btn" id="btnClassic">üéµ CLASSIC</button>
        <button class="right-btn" id="btnFriends">üë• FRIENDS</button>
      </div>
    </aside>
  </div>

  <!-- ===================== ‚öô SETTINGS MODAL ===================== -->
  <div class="modal" id="settingsModal" aria-hidden="true" role="dialog">
    <div class="dialog">
      <div class="dialog-head">
        <h3>‚öôÔ∏è SETTINGS</h3>
        <button class="x" id="closeSettings">‚úñ</button>
      </div>
      <div class="dialog-body">
        <label class="row"><span>Master Volume</span><input id="rangeMasterSet" type="range" min="0" max="1" step="0.01"></label>
        <label class="row"><span>Music</span><input id="rangeMusicSet" type="range" min="0" max="1" step="0.01"></label>
        <label class="row"><span>SFX</span><input id="rangeSfxSet" type="range" min="0" max="1" step="0.01"></label>
        <label class="row"><span>Region</span>
          <select id="regionSelSet">
            <option value="asia">Asia</option>
            <option value="na">North America</option>
            <option value="eu">Europe</option>
          </select>
        </label>
        <div class="note">* ‡∏Ñ‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô localStorage</div>
      </div>
    </div>
  </div>

  <!-- ===================== üë§ ACCOUNT MODAL ===================== -->
  <div class="modal" id="accountModal" aria-hidden="true" role="dialog">
    <div class="dialog profile-dialog">
      <div class="dialog-head">
        <h3>üéÆ ACCOUNT</h3>
        <button class="x" id="closeAccount">‚úñ</button>
      </div>

      <div class="dialog-body center">
        <div id="accountSection">
          <img id="profilePic" class="avatar" src="assets/default-avatar.png" alt="profile picture">
          <!-- Guest View -->
          <div id="guestView">
            <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
            <input type="text" id="playerNameInput" placeholder="‡πÄ‡∏ä‡πà‡∏ô MasterHeist" maxlength="16" />
            <button id="startBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>

            <p class="divider-text">‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</p>
            <button class="google-btn" id="btnLoginGoogle"><i class="fa-brands fa-google"></i> Sign in with Google</button>
          </div>

          <!-- Logged-in View -->
          <div id="userView" style="display:none;">
            <h3 id="profileName">Player</h3>
            <p id="profileEmail"></p>
            <button id="btnLogout" class="logout-btn">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== üìò TUTORIAL MODAL ===================== -->
  <div class="modal" id="tutorialModal" aria-hidden="true" role="dialog">
    <div class="dialog tutorial-dialog">
      <div class="dialog-head">
        <h3>üìò TUTORIAL</h3>
        <button class="x" id="closeTutorial">‚úñ</button>
      </div>

      <div class="tab-header">
        <button class="tab-btn active" data-tab="howto">üïπÔ∏è ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</button>
        <button class="tab-btn" data-tab="story">üìñ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</button>
        <button class="tab-btn" data-tab="system">‚öôÔ∏è ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡∏°</button>
      </div>

      <div class="tab-content">
        <div class="tab-pane active" id="tab-howto">
          <ul>
            <li>1Ô∏è‚É£ ‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î <b>Start</b></li>
            <li>2Ô∏è‚É£ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡∏°</li>
            <li>3Ô∏è‚É£ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏° ‡πÄ‡∏Å‡∏°‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</li>
            <li>4Ô∏è‚É£ ‡πÉ‡∏ä‡πâ‡∏õ‡∏∏‡πà‡∏° <b>W A S D</b> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß</li>
            <li>5Ô∏è‚É£ ‡∏ó‡∏≥‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤!</li>
          </ul>
          <p class="note">üí° ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö: ‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏°‡∏±‡∏ô‡∏™‡πå‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏¢‡∏≠‡∏∞!</p>
        </div>

        <div class="tab-pane" id="tab-story">
          <p><b>‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á:</b></p>
          <p>
            ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡∏ä‡∏∞‡∏ï‡∏≤‡∏Å‡∏£‡∏£‡∏°‡∏≠‡∏µ‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô‡∏ñ‡∏π‡∏Å‡∏Ç‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏û‡∏¥‡∏û‡∏¥‡∏ò‡∏†‡∏±‡∏ì‡∏ë‡πå‡πÅ‡∏´‡πà‡∏á‡∏ô‡∏µ‡πâ ‚Äî 
            ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ñ‡∏π‡∏Å‡πÅ‡∏Æ‡πá‡∏Å‡πÅ‡∏•‡∏∞‡∏õ‡∏¥‡∏î‡∏•‡∏á‡πÇ‡∏î‡∏¢ ‚Äú‡∏´‡∏±‡∏ß‡∏Ç‡πÇ‡∏°‡∏¢‡∏õ‡∏£‡∏¥‡∏®‡∏ô‡∏≤‚Äù
            ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏ù‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á...
          </p>
          <p>
            ‡∏ó‡πà‡∏≤‡∏°‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏∑‡∏î‡∏°‡∏¥‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏™‡∏á‡∏™‡∏•‡∏±‡∏ß ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏£‡πà‡∏ß‡∏°‡∏°‡∏∑‡∏≠‡∏Å‡∏±‡∏ô
            ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏π‡πâ‡∏Ñ‡∏∑‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡∏∞‡∏´‡∏≤‡∏ó‡∏≤‡∏á‡∏´‡∏ô‡∏µ‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ ‚Äî 
            ‡πÅ‡∏ï‡πà‡∏à‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ó‡∏≤‡∏á‡∏£‡∏π‡πâ‡πÄ‡∏•‡∏¢‡∏ß‡πà‡∏≤‡πÉ‡∏Ñ‡∏£‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå...
            ‡πÅ‡∏•‡∏∞‡πÉ‡∏Ñ‡∏£‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏ö‡∏∏‡∏Å‡∏£‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á
            ‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏≤‡∏á‡∏ó‡∏µ... ‡∏°‡∏±‡∏ô‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô <b>‡∏Ñ‡∏∏‡∏ì</b> ‡πÄ‡∏≠‡∏á?
          </p>
        </div>

        <div class="tab-pane" id="tab-system">
          <ul>
            <li>üíæ <b>‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡∏°:</b> ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 6 ‡∏Ñ‡∏ô</li>
            <li>üß† <b>‡∏£‡∏∞‡∏ö‡∏ö‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à:</b> ‡∏°‡∏µ mini task ‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏î‡πà‡∏≤‡∏ô</li>
            <li>üé≠ <b>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó:</b> ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏•‡∏±‡∏ö‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà...</li>
            <li>üéµ <b>‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á:</b> ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏•‡∏á/‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÑ‡∏î‡πâ‡πÉ‡∏ô Settings</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- üéÆ MAIN SCRIPT -->
<script type="module" src="./common-settings.js"></script>
<script type="module" src="./app.js"></script>
<script type="module" src="./account-handler.js"></script>

  <!-- üìú POPUP LOGIC -->
  <script>
    function openModal(id) {
      const modal = document.getElementById(id);
      if (modal) {
        modal.style.display = "flex";
        modal.setAttribute("aria-hidden", "false");
      }
    }
    function closeModal(id) {
      const modal = document.getElementById(id);
      if (modal) {
        modal.style.display = "none";
        modal.setAttribute("aria-hidden", "true");
      }
    }

  </script>
  <script src="/client/app.js?v=1"></script>
</body>
</html>
